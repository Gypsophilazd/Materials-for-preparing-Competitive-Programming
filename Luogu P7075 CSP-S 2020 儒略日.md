## 题目描述

为了简便计算，天文学家们使用儒略日（Julian day）来表达时间。所谓儒略日，其定义为从**公元前 4713 年 1 月 1 日正午 12 点到此后某一时刻间所经过的天数**，不满一天者用小数表达。若利用这一天文学历法，则每一个时刻都将被均匀的映射到数轴上，从而得以很方便的计算它们的差值。

现在，给定一个不含小数部分的儒略日，请你帮忙计算出该儒略日（一定是某一天的中午 12 点）所对应的公历日期。

我们现行的公历为格里高利历（Gregorian calendar），它是在公元 1582 年由教皇格里高利十三世在原有的儒略历（Julian calendar）的基础上修改得到的（注：儒略历与儒略日并无直接关系）。具体而言，现行的公历日期按照以下规则计算：

1. 公元 1582 年 10 月 15 日（含）以后：适用格里高利历，每年一月 $31$ 天、 二月 $28$ 天或 $29$ 天、三月 $31$ 天、四月 $30$ 天、五月 $31$ 天、六月 $30$ 天、七月 $31$ 天、八月 $31$ 天、九月 $30$ 天、十月 $31$ 天、十一月 $30$ 天、十二月 $31$ 天。其中，闰年的二月为 $29$ 天，平年为 $28$ 天。当年份是 $400$ 的倍数，或日期年份是 $4$ 的倍数但不是 $100$ 的倍数时，该年为闰年。
2. 公元 1582 年 10 月 5 日（含）至 10 月 14 日（含）：不存在，这些日期被删除，该年 10 月 4 日之后为 10 月 15 日。
3. 公元 1582 年 10 月 4 日（含）以前：适用儒略历，每月天数与格里高利历相同，但只要年份是 $4$ 的倍数就是闰年。
4. 尽管儒略历于公元前 45 年才开始实行，且初期经过若干次调整，但今天人类习惯于按照儒略历最终的规则反推一切 1582 年 10 月 4 日之前的时间。注意，**公元零年并不存在**，即公元前 1 年的下一年是公元 1 年。因此公元前 1 年、前 5 年、前 9 年、前 13 年……以此类推的年份应视为闰年。

## 输入格式

第一行一个整数 $Q$，表示询问的组数。  
接下来 $Q$ 行，每行一个非负整数 $r_i$，表示一个儒略日。

## 输出格式

对于每一个儒略日 $r_i$，输出一行表示日期的字符串 $s_i$。共计 $Q$ 行。 $s_i$ 的格式如下：

1. 若年份为公元后，输出格式为 `Day Month Year`。其中日（Day）、月（Month）、年（Year）均不含前导零，中间用一个空格隔开。例如：公元
2020 年 11 月 7 日正午 12 点，输出为 `7 11 2020`。
2. 若年份为公元前，输出格式为 `Day Month Year BC`。其中年（Year）输出该年份的数值，其余与公元后相同。例如：公元前 841 年 2 月 1 日正午 12
点，输出为 `1 2 841 BC`。

## 输入输出样例 #1

### 输入 #1

```
3
10
100
1000
```

### 输出 #1

```
11 1 4713 BC
10 4 4713 BC
27 9 4711 BC
```

## 输入输出样例 #2

### 输入 #2

```
3
2000000
3000000
4000000
```

### 输出 #2

```
14 9 763
15 8 3501
12 7 6239
```

## 输入输出样例 #3

### 输入 #3

```
见附件中的 julian/julian3.in
```

### 输出 #3

```
见附件中的 julian/julian3.ans
```

## 说明/提示

**【数据范围】**

| 测试点编号 |  $Q =$  |    $r_i \le$     |
| :---: | :-----: | :--------------: |
|  $1$  | $1000$  |      $365$       |
|  $2$  | $1000$  |      $10^4$      |
|  $3$  | $1000$  |      $10^5$      |
|  $4$  | $10000$ |  $3\times 10^5$  |
|  $5$  | $10000$ | $2.5\times 10^6$ |
|  $6$  | $10^5$  | $2.5\times 10^6$ |
|  $7$  | $10^5$  |  $5\times 10^6$  |
|  $8$  | $10^5$  |      $10^7$      |
|  $9$  | $10^5$  |      $10^9$      |
| $10$  | $10^5$  |  年份答案不超过 $10^9$  |
## Solution

### 大周期计算+余数查表

#### 针对历法转换和日期大模拟,周期性打表思路值得学习
#### 常见日期模拟打表模版
1. is_leap_year 函数判断闰年(在不同历法中需要根据具体闰年规则进行转换,或先统一使用格里高利历)
```
bool is_leap_year(int year){
	return ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0));
} 
```

2. days_of_month函数提取每一天(直接封装is_leap_year)丝滑小连招
```
int days_of_month(int year, int idx_month){
	int month[] = {31, 28 + (is_leap_year(year) ? 1 :0), 31, 30, 31, 30 ,31, 31, 30, 31, 30, 31};
	return month[idx_month - 1];
}
```

3. 主函数中的周期性日期打表,应用格里高利历的 *400年一个大周期*
注:(1) 每400年有 N = 146097天
(2) 每400年的每一天 我们给他打表 标注每天属于第i年, 第j个月, 第k天
(3) 模拟每一天的操作 注意我们需要0年0月(尽管不存在, 但是取整时必须使用)
```
const int N = 146097;
int year[N], mon[N], days[N];
day[0] = mon[0] = 1;
for(int i = 1; i < N; ++i)}{
	days[i] = days[i - 1] + 1;
	mon[i] = mon[i - 1];
	year[i] = year[i - 1];
	if(days[i] > days_of_month(year[i], mon[i])) days[i] = 1, mon[i]++;
	if(mon[i] > 12) mon[i] = 1, year[i]++;
}
```

#### 历法转换核心

原理:儒略历自 公元前4713年1月1日起 至 公元1582年10月4日结束 
**注意公元前1年和公元1年中间没有0年**. 
**按儒略历计算,这段时间共有2299160天**
**按格里高利历, 为了简化计算,我们以1200年1月1日作为起始日,从公元前4713年1月1日 至公元1200年1月1日 再加上中间被删去的10天 总共2159351天**
*因此我们用1200年1月1日作为偏移基础点*

(1) 若历法日期位于格里高利历 
所以我们进行日期偏移操作 `n -= 2159351;`
计算基准年 `t = n / T * 400 + 1200;`
(即有n/T个400年, 再加上原来扣掉的2159351天即1200年)
随后取余 `n %= T` 表示是400年周期中的第n天;
答案即为days\[n], mon\[n], t + year\[n];
(2) 若历法日期位于儒略历
儒略历4年1闰, 总共1461天.
所以基准年即为`t = n / 1461 * 4 - 4712`;对齐4713年查表
在取余 `n %= 1461` 
答案即为days\[n], mon\[n], 1 - t - year\[n]